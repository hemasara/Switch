<div id="vlanportassignmentsmodal">
    <div id="vlanportassignments_errors"></div>
    <p>{{'NETWORKCONFIGURATION_VLAN_Modal_Description'|translate}}</p>
    <br />
    <div>
        <a id="lnkViewVLANAssignment" ng-click="actions.view_VLANAssignment_modal()">
            <p>{{'NETWORKCONFIGURATION_VLANAssignment_Current'|translate}}</p>
        </a>
    </div>
    <br />

    <form name="vlanForm">
        <div class="form-horizontal">
            <div class="form-group">
                <label class="col-xs-4 control-label">{{'NETWORKCONFIGURATION_Vlan_Modal_ServerSlots'|translate}}</label>
                <div class="col-xs-8">
                    <div class="col-xs-8" style="background-color: #F4F4F4; padding: 15px 15px;">
			  <div>
    			  <label><input type="checkbox" ng-true-value="'selected'" ng-false-value="'unselected'" ng-model="viewmodel.allSelected" ng-change="actions.selectAllPorts()" />Select All
                          </label>
                          </div>
                        <div ng-if="$root.modelName == 'DELL I/O Aggregator' || $root.modelName == 'DELL MXL 10/40GbE'">
                            <table id="VLANtable" style="width: 100%;">
                                <tr class="rowless text-center" style="border: 0px;">
                                    <td>1</td>
                                    <td>2</td>
                                    <td>3</td>
                                    <td>4</td>
                                    <td>5</td>
                                    <td>6</td>
                                    <td>7</td>
                                    <td>8</td>
                                </tr>
                                <tr class="rowless text-center" style="border: 0px;">
                                    <td>9</td>
                                    <td>10</td>
                                    <td>11</td>
                                    <td>12</td>
                                    <td>13</td>
                                    <td>14</td>
                                    <td>15</td>
                                    <td>16</td>
                                </tr>
                                <tr style="border-left: 2px solid #000; border-top: 2px solid #000; font-weight: bold;">
                                    <td ng-repeat="port in viewmodel.availableInternalPorts | limitTo: 8" style="text-align: center; padding: 6px;">
                                        <input id="chkChangePort1{{$index}}" type="checkbox" ng-true-value="'selected'" ng-false-value="'unselected'" ng-model="viewmodel.availableInternalPorts[$index].selectedState" ng-change="actions.changePortCheckbox(port.number)" ng-disabled="">
                                        <div>
                                            {{port.number}}
                                        </div>
                                    </td>
                                </tr>
                                <tr style="border-bottom: 6px solid #000; border-left: 2px solid #000; font-weight: bold;">
                                    <td ng-repeat="port in viewmodel.availableInternalPorts | limitTo: 24 | limitTo: -8" style="text-align: center; padding: 6px;">
                                        <input id="chkChangePort2{{$index}}" type="checkbox" ng-true-value="'selected'" ng-false-value="'unselected'" ng-model="viewmodel.availableInternalPorts[$index + 16].selectedState" ng-change="actions.changePortCheckbox(port.number)" ng-disabled="">
                                        <div>
                                            {{port.number}}
                                        </div>
                                    </td>
                                </tr>
                                <tr style="border-left: 2px solid #000; font-weight: bold;">
                                    <td ng-repeat="port in viewmodel.availableInternalPorts | limitTo: 16 | limitTo: -8" style="text-align: center; padding: 6px;">
                                        <input id="chkChangePort3{{$index}}" type="checkbox" ng-true-value="'selected'" ng-false-value="'unselected'" ng-model="viewmodel.availableInternalPorts[$index + 8].selectedState" ng-change="actions.changePortCheckbox(port.number)" ng-disabled="">
                                        <div>
                                            {{port.number}}
                                        </div>
                                    </td>
                                </tr>

                                <tr style="border-left: 2px solid #000; border-bottom: 2px solid #000; font-weight: bold;">
                                    <td ng-repeat="port in viewmodel.availableInternalPorts | limitTo: 32 | limitTo: -8" style="text-align: center; padding: 6px;">
                                        <input id="chkChangePort4{{$index}}" type="checkbox" ng-true-value="'selected'" ng-false-value="'unselected'" ng-model="viewmodel.availableInternalPorts[$index + 24].selectedState" ng-change="actions.changePortCheckbox(port.number)" ng-disabled="">
                                        <div>
                                            {{port.number}}
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            <!--label 4 of 4 ports selected-->
                        </div>

                        <div ng-if="$root.modelName == 'Dell PowerEdge FN 2210S IOM' || $root.modelName == 'Dell PowerEdge FN 410T IOM' || $root.modelName == 'Dell PowerEdge FN 410S IOM'">
                            <table id="VLANFNtable" style="width: 100%;">
                                <tr style="border-bottom: 6px solid #000; border-left: 2px solid #000; border-top: 2px solid #000; font-weight: bold;">
                                    <td ng-repeat="port in viewmodel.availableInternalPorts | limitTo: 4" style="text-align: center; padding: 6px;">
                                        <input id="chkChangePort5{{$index}}" type="checkbox" ng-true-value="'selected'" ng-false-value="'unselected'" ng-model="viewmodel.availableInternalPorts[$index].selectedState" ng-change="actions.changePortCheckbox(port.number)" ng-disabled="">
                                        <div>
                                            {{port.number}}
                                        </div>
                                    </td>
                                </tr>

                                <tr style="border-left: 2px solid #000; border-bottom: 2px solid #000; font-weight: bold;">
                                    <td ng-repeat="port in viewmodel.availableInternalPorts | limitTo: 8 | limitTo: -4" style="text-align: center; padding: 6px;">
                                        <input id="chkChangePort6{{$index}}" type="checkbox" ng-true-value="'selected'" ng-false-value="'unselected'" ng-model="viewmodel.availableInternalPorts[$index + 4].selectedState" ng-change="actions.changePortCheckbox(port.number)" ng-disabled="">
                                        <div>
                                            {{port.number}}
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-xs-4 control-label">{{'NETWORKCONFIGURATION_Vlan_Modal_InternalPorts'|translate}}</label>
                <div class="col-xs-8">
                    <!--<label>{{viewmodel.selectedInternalPorts|joinBy:','}}</label>-->
                    <label>{{viewmodel.selectedPortsDisplay}}</label>
                </div>
            </div>
        </div>
        <div class="form-horizontal">
            <label class="col-xs-4 control-label">{{'NETWORKCONFIGURATION_Vlan_Modal_EditVLANs'|translate}}</label>
            <div class="col-xs-8"  ng-class="{ disabledText : !viewmodel.selectedInternalPorts || viewmodel.selectedInternalPorts.length <= 0 }">
                <div class="radio form-group">
                    <label>
                        <input type="radio" ng-disabled="!viewmodel.selectedInternalPorts || viewmodel.selectedInternalPorts.length <= 0" name="radioVLANSettings" id="radioVLANSettings_add" value="add" ng-model="data.editMode" ng-change="actions.changeEditMode(data.editMode)" />
                        {{'NETWORKCONFIGURATION_Vlan_Modal_AddVLANs'|translate}}
                    </label>
                </div>
                <div class="radio form-group">
                    <label>
                        <input type="radio" ng-disabled="!viewmodel.selectedInternalPorts || viewmodel.selectedInternalPorts.length <= 0" name="radioVLANSettings" id="radioVLANSettings_remove" value="remove" ng-model="data.editMode" ng-change="actions.changeEditMode(data.editMode)" />
                        {{'NETWORKCONFIGURATION_Vlan_Modal_RemoveVLANs'|translate}}
                    </label>
                </div>
                <div class="radio form-group">
                    <label ng-class="{ disabledText : $root.ioaMode == 'vlt' }">
                        <input type="radio" ng-disabled="(!viewmodel.selectedInternalPorts || viewmodel.selectedInternalPorts.length <= 0) || ($root.ioaMode == 'vlt')" name="radioVLANSettings" id="radioVLANSettings_loadDefaults" value="auto" ng-model="data.editMode" ng-change="actions.changeEditMode(data.editMode)" />
                        {{'NETWORKCONFIGURATION_Vlan_Modal_LoadDefaults'|translate}}
                    </label>
                    <span data-toggle="tooltip" data-placement="auto top" title="{{'NETWORKCONFIGURATION_Vlan_Modal_LoadDefaults_Info'|translate}}">
                        <i class="ci ci-state-info2-core-core text-primary" aria-hidden="true"></i>
                    </span>
                </div>
                <div class="radio form-group">
                    <label>
                        <input type="radio" ng-disabled="!viewmodel.selectedInternalPorts || viewmodel.selectedInternalPorts.length <= 0" name="radioVLANSettings" id="radioVLANSettings_override" value="override" ng-model="data.editMode" ng-change="actions.changeEditMode(data.editMode)" />
                        {{'NETWORKCONFIGURATION_Vlan_Modal_OverwriteVLAN'|translate}}
                    </label>
                    <span data-toggle="tooltip" data-placement="auto top" title="{{'NETWORKCONFIGURATION_Vlan_Modal_OverrideVLAN_Info'|translate}}">
                        <i class="ci ci-state-info2-core text-primary" aria-hidden="true"></i>
                    </span>
                </div>
                <br />
                <br />
            </div>
            <br />
        </div>

        <div class="form-group">
            <label class="col-xs-4 control-label">{{'NETWORKCONFIGURATION_VLAN_Tagged'|translate}}</label>
            <div class="col-xs-5">
                <input id="taggedvlan" type="text" class="form-control" name="textTaggedVLANs" ng-model="viewmodel.commonPortSettings.taggedVlanString"
                        placeholder="{{data.editMode == 'auto' && ' ' || 'Ex: 2-4094'}}"
                        ng-disabled="data.editMode=='undefined' || data.editMode == 'auto'"
                        range-validator min-val="1" max-val="4094" />            
            </div>
            <div class="col-xs-3">
                <p class="help-inline">{{'NETWORKCONFIGURATION_VLAN_Modal_TaggedRange'|translate}}</p>
            </div>
        </div>

        <div class="form-group">
            <label class="col-xs-4 control-label">{{'NETWORKCONFIGURATION_VLAN_Untagged'|translate}}</label>
            <div class="col-xs-5">
                    <input id="untaggedvlan" type="number" class="form-control" name="textUntaggedVLANs" ng-model="viewmodel.commonPortSettings.untaggedVlan"
                        placeholder="{{data.editMode == 'auto' && ' ' || 'Ex: 1'}}"
                        ng-disabled="data.editMode=='undefined' || data.editMode == 'auto'"
                        min="1" max="4094" />             
            </div>
            <div class="col-xs-3">
                <p class="help-inline">{{'NETWORKCONFIGURATION_VLAN_Modal_UntaggedRange'|translate}}</p>
            </div>
        </div>

<!--        <div class="form-horizontal">
            <ul class="list-unstyled list-inline form-group">
                <li class="col-xs-4">
                    <label class="control-label">{{'NETWORKCONFIGURATION_VLAN_Tagged'|translate}}</label>
                </li>
                <li>
                    <input id="taggedvlan" type="text" class="form-control" name="textTaggedVLANs" ng-model="viewmodel.commonPortSettings.taggedVlanString"
                        placeholder="Ex: 2-4094"
                        ng-disabled="data.editMode=='undefined' || data.editMode == 'auto'"
                        range-validator min-val="1" max-val="4094" 
                        class="col-xs-8"/>
                </li>
                <li>
                    <p class="help-inline">{{'NETWORKCONFIGURATION_VLAN_Modal_TaggedRange'|translate}}</p>
                </li>
            </ul>

            <ul class="list-unstyled list-inline form-group">
                <li class="col-xs-4">
                    <label class="control-label">{{'NETWORKCONFIGURATION_VLAN_Untagged'|translate}}</label>
                </li>
                <li>
                    <input id="untaggedvlan" type="number" class="form-control" name="textUntaggedVLANs" ng-model="viewmodel.commonPortSettings.untaggedVlan"
                        placeholder="Ex: 1"
                        ng-disabled="data.editMode=='undefined' || data.editMode == 'auto'"
                        min="1" max="4094" 
                        class="col-xs-8"/>
                </li>
                <li>
                    <p class="help-inline">{{'NETWORKCONFIGURATION_VLAN_Modal_UntaggedRange'|translate}}</p>
                </li>
            </ul>
        </div>-->



        <br />

        <!--<pre>
    data:  {{data}}
</pre>
<pre>
    viewmodel.availableInternalPorts:  {{viewmodel.availableInternalPorts}}
</pre>
<pre>
    viewmodel.selectedInternalPortsFullArray:  {{viewmodel.selectedInternalPortsFullArray}}
</pre>
<pre>
    viewmodel.selectedInternalPorts:  {{viewmodel.selectedInternalPorts}}
</pre>
<pre>
    viewmodel.commonPortSettings:  {{viewmodel.commonPortSettings}}
</pre>-->

        <footer>
            <ul class="list-unstyled list-inline text-right">
                <li>
		    <button id="btnSaveVLANPortAssignment" type="button" class="btn btn-primary" ng-disabled="data.editMode != 'auto' && ((data.editMode != 'override' && (!viewmodel.commonPortSettings.taggedVlanString && !viewmodel.commonPortSettings.untaggedVlan)) || (data.editMode == 'override' && (!viewmodel.commonPortSettings.taggedVlanString || !viewmodel.commonPortSettings.untaggedVlan)))"
                        ng-click="actions.save()">
                        {{'GENERIC_Apply'|translate}}</button>
                </li>
                <li>
                    <button id="btnCancelVLANPortAssignment" type="button" class="btn btn-default" ng-click="actions.cancel()">{{'GENERIC_Cancel'|translate}}</button>
                </li>
            </ul>
        </footer>
    </form>
</div>
